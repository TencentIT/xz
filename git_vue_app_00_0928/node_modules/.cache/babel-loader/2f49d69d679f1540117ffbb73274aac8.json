{"remainingRequest":"C:\\xampp\\htdocs\\tao\\vueui\\vue_app\\node_modules\\babel-loader\\lib\\index.js!C:\\xampp\\htdocs\\tao\\vueui\\vue_app\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\xampp\\htdocs\\tao\\vueui\\vue_app\\src\\components\\subcomponents\\comment.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\xampp\\htdocs\\tao\\vueui\\vue_app\\src\\components\\subcomponents\\comment.vue","mtime":1535458408165},{"path":"C:\\xampp\\htdocs\\tao\\vueui\\vue_app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1534853417988},{"path":"C:\\xampp\\htdocs\\tao\\vueui\\vue_app\\node_modules\\babel-loader\\lib\\index.js","mtime":1529635966000},{"path":"C:\\xampp\\htdocs\\tao\\vueui\\vue_app\\node_modules\\vue-loader\\lib\\index.js","mtime":1527860006000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { Toast } from \"mint-ui\";\nexport default {\n  data: function data() {\n    return {\n      msg: \"\",\n      comments: [],\n      pageIndex: 1\n    };\n  },\n  methods: {\n    postComment: function postComment() {\n      var _this = this;\n\n      //获取评论\n      if (this.msg.trim().length == 0) {\n        Toast(\"评论内容不能为空!\");\n        return;\n      }\n\n      console.log(this.id);\n      this.$http.post(\"api/postcomment.php/\" + this.id, {\n        content: this.msg.trim()\n      }).then(function (result) {\n        var cmt = {\n          user_name: \"匿名用户\",\n          add_time: Date.now(),\n          content: _this.msg.trim()\n        };\n\n        _this.comments.unshift(cmt);\n\n        _this.msg = \"\";\n        Toast(\"加载更多\");\n      });\n    },\n    getMore: function getMore() {\n      var _this2 = this;\n\n      this.pageIndex++;\n      this.$http.get(\"api/getcomments.php?id=\" + this.id + \"&pno=\" + this.pageIndex).then(function (result) {\n        console.log(result);\n        _this2.comments = _this2.comments.concat(result.body.message);\n        Toast(\"获取成功\");\n      });\n    }\n  },\n  props: [\"id\"]\n};",{"version":3,"sources":["comment.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;AAsBA,SAAA,KAAA,QAAA,SAAA;AACA,eAAA;AACA,MADA,kBACA;AACA,WAAA;AACA,WAAA,EADA;AAEA,gBAAA,EAFA;AAGA,iBAAA;AAHA,KAAA;AAIA,GANA;AAOA,WAAA;AACA,eADA,yBACA;AAAA;;AACA;AACA,UAAA,KAAA,GAAA,CAAA,IAAA,GAAA,MAAA,IAAA,CAAA,EAAA;AACA,cAAA,WAAA;AACA;AACA;;AACA,cAAA,GAAA,CAAA,KAAA,EAAA;AACA,WAAA,KAAA,CAAA,IAAA,CAAA,yBAAA,KAAA,EAAA,EAAA;AACA,iBAAA,KAAA,GAAA,CAAA,IAAA;AADA,OAAA,EAEA,IAFA,CAEA,UAAA,MAAA,EAAA;AACA,YAAA,MAAA;AACA,qBAAA,MADA;AAEA,oBAAA,KAAA,GAAA,EAFA;AAGA,mBAAA,MAAA,GAAA,CAAA,IAAA;AAHA,SAAA;;AAKA,cAAA,QAAA,CAAA,OAAA,CAAA,GAAA;;AACA,cAAA,GAAA,GAAA,EAAA;AACA,cAAA,MAAA;AACA,OAXA;AAYA,KApBA;AAqBA,WArBA,qBAqBA;AAAA;;AACA,WAAA,SAAA;AACA,WAAA,KAAA,CAAA,GAAA,CAAA,4BAAA,KAAA,EAAA,GAAA,OAAA,GAAA,KAAA,SAAA,EAAA,IAAA,CAAA,kBAAA;AACA,gBAAA,GAAA,CAAA,MAAA;AACA,eAAA,QAAA,GAAA,OAAA,QAAA,CAAA,MAAA,CAAA,OAAA,IAAA,CAAA,OAAA,CAAA;AACA,cAAA,MAAA;AACA,OAJA;AAKA;AA5BA,GAPA;AAqCA,SAAA,CAAA,IAAA;AArCA,CAAA","sourcesContent":["<template>\r\n   <div class=\"cmt-contaner\">\r\n      <h1>发表评论</h1>\r\n      <hr />\r\n      <textarea placeholder=\"请输入内容\" maxlength=\"120\"\r\n      v-model=\"msg\"></textarea>\r\n      <mt-button size=\"large\" @click=\"postComment\">发表评论</mt-button>\r\n      <div class=\"cmt-list\"  >\r\n            <div class=\"cmt-item\"  v-for=\"(item,i) in comments\">\r\n             <div class=\"cmt-title\">\r\n                 楼{{i+1}} 用户{{item.user_name}}\r\n                 发表时间{{item.add_time}}\r\n             </div>\r\n            <div class=\"cmt-body\">\r\n               {{item.content === '' ? \"此用户很懒\":item.content}}\r\n            </div>\r\n            </div>\r\n            <mt-button  @click=\"getMore\">加载更多</mt-button>\r\n      </div>\r\n   </div>\r\n</template>\r\n<script>\r\n  import {Toast} from \"mint-ui\"\r\n  export default{\r\n      data(){\r\n          return {\r\n              msg:\"\",\r\n              comments:[],\r\n              pageIndex:1}\r\n      },\r\n      methods:{\r\n        postComment(){\r\n            //获取评论\r\n            if(this.msg.trim().length == 0){\r\n                Toast(\"评论内容不能为空!\");\r\n                return;\r\n            }\r\n            console.log(this.id);\r\n            this.$http.post(\"api/postcomment.php/\"+this.id,{\r\n                content:this.msg.trim()\r\n            }).then((result)=>{\r\n                var cmt = {\r\n                    user_name:\"匿名用户\",\r\n                    add_time:Date.now(),\r\n                    content:this.msg.trim()\r\n                };\r\n                this.comments.unshift(cmt);\r\n                this.msg = \"\";\r\n                Toast(\"加载更多\");\r\n            });\r\n        },\r\n        getMore(){\r\n            this.pageIndex++;\r\n            this.$http.get(\"api/getcomments.php?id=\"+this.id+\"&pno=\"+this.pageIndex).then(result=>{\r\n                console.log(result);\r\n                this.comments = this.comments.concat(result.body.message);\r\n                Toast(\"获取成功\")\r\n            })\r\n        }\r\n      },\r\n      props:[\"id\"]\r\n  }\r\n</script>\r\n<style scoped>\r\n  .cmt-contaner h1{\r\n    font-size:18px;\r\n  }\r\n  .cmt-contaner textarea{\r\n      font-size:14px;\r\n      height:85px;\r\n      margin:0;\r\n  }\r\n   .cmt-contaner .cmt-list{\r\n       margin:5px 0;\r\n   }\r\n   .cmt-contaner .cmt-list .cmt-title{\r\n       line-height:30px;\r\n       background:#ccc;\r\n   }\r\n   .cmt-contaner .cmt-list .cmt-body{\r\n       line-height:35px;\r\n       text-indent:2em;\r\n   }   \r\n</style>"],"sourceRoot":"src\\components\\subcomponents"}]}