{"remainingRequest":"E:\\vue\\Vue项目空白模板_00\\Vue项目空白模板\\xz_admin_v2\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\vue\\Vue项目空白模板_00\\Vue项目空白模板\\xz_admin_v2\\src\\components\\subcomponents\\comment.vue?vue&type=style&index=0&id=e10688ce&scoped=true&lang=css","dependencies":[{"path":"E:\\vue\\Vue项目空白模板_00\\Vue项目空白模板\\xz_admin_v2\\src\\components\\subcomponents\\comment.vue","mtime":1535458408165},{"path":"E:\\vue\\Vue项目空白模板_00\\Vue项目空白模板\\xz_admin_v2\\node_modules\\css-loader\\index.js","mtime":499162500000},{"path":"E:\\vue\\Vue项目空白模板_00\\Vue项目空白模板\\xz_admin_v2\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1521907989000},{"path":"E:\\vue\\Vue项目空白模板_00\\Vue项目空白模板\\xz_admin_v2\\node_modules\\postcss-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\vue\\Vue项目空白模板_00\\Vue项目空白模板\\xz_admin_v2\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1534853417988},{"path":"E:\\vue\\Vue项目空白模板_00\\Vue项目空白模板\\xz_admin_v2\\node_modules\\vue-loader\\lib\\index.js","mtime":1527860006000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.cmt-contaner h1{\n  font-size:18px;\n}\n.cmt-contaner textarea{\n    font-size:14px;\n    height:85px;\n    margin:0;\n}\n .cmt-contaner .cmt-list{\n     margin:5px 0;\n }\n .cmt-contaner .cmt-list .cmt-title{\n     line-height:30px;\n     background:#ccc;\n }\n .cmt-contaner .cmt-list .cmt-body{\n     line-height:35px;\n     text-indent:2em;\n }   \n",{"version":3,"sources":["comment.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"comment.vue","sourceRoot":"src\\components\\subcomponents","sourcesContent":["<template>\r\n   <div class=\"cmt-contaner\">\r\n      <h1>发表评论</h1>\r\n      <hr />\r\n      <textarea placeholder=\"请输入内容\" maxlength=\"120\"\r\n      v-model=\"msg\"></textarea>\r\n      <mt-button size=\"large\" @click=\"postComment\">发表评论</mt-button>\r\n      <div class=\"cmt-list\"  >\r\n            <div class=\"cmt-item\"  v-for=\"(item,i) in comments\">\r\n             <div class=\"cmt-title\">\r\n                 楼{{i+1}} 用户{{item.user_name}}\r\n                 发表时间{{item.add_time}}\r\n             </div>\r\n            <div class=\"cmt-body\">\r\n               {{item.content === '' ? \"此用户很懒\":item.content}}\r\n            </div>\r\n            </div>\r\n            <mt-button  @click=\"getMore\">加载更多</mt-button>\r\n      </div>\r\n   </div>\r\n</template>\r\n<script>\r\n  import {Toast} from \"mint-ui\"\r\n  export default{\r\n      data(){\r\n          return {\r\n              msg:\"\",\r\n              comments:[],\r\n              pageIndex:1}\r\n      },\r\n      methods:{\r\n        postComment(){\r\n            //获取评论\r\n            if(this.msg.trim().length == 0){\r\n                Toast(\"评论内容不能为空!\");\r\n                return;\r\n            }\r\n            console.log(this.id);\r\n            this.$http.post(\"api/postcomment.php/\"+this.id,{\r\n                content:this.msg.trim()\r\n            }).then((result)=>{\r\n                var cmt = {\r\n                    user_name:\"匿名用户\",\r\n                    add_time:Date.now(),\r\n                    content:this.msg.trim()\r\n                };\r\n                this.comments.unshift(cmt);\r\n                this.msg = \"\";\r\n                Toast(\"加载更多\");\r\n            });\r\n        },\r\n        getMore(){\r\n            this.pageIndex++;\r\n            this.$http.get(\"api/getcomments.php?id=\"+this.id+\"&pno=\"+this.pageIndex).then(result=>{\r\n                console.log(result);\r\n                this.comments = this.comments.concat(result.body.message);\r\n                Toast(\"获取成功\")\r\n            })\r\n        }\r\n      },\r\n      props:[\"id\"]\r\n  }\r\n</script>\r\n<style scoped>\r\n  .cmt-contaner h1{\r\n    font-size:18px;\r\n  }\r\n  .cmt-contaner textarea{\r\n      font-size:14px;\r\n      height:85px;\r\n      margin:0;\r\n  }\r\n   .cmt-contaner .cmt-list{\r\n       margin:5px 0;\r\n   }\r\n   .cmt-contaner .cmt-list .cmt-title{\r\n       line-height:30px;\r\n       background:#ccc;\r\n   }\r\n   .cmt-contaner .cmt-list .cmt-body{\r\n       line-height:35px;\r\n       text-indent:2em;\r\n   }   \r\n</style>"]}]}